<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Astra SRSDK Peripheral Driver Library: UART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="syna_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Astra SRSDK Peripheral Driver Library
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__group__uart__driver.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a>  </div>
  <div class="headertitle"><div class="title">UART<div class="ingroups"><a class="el" href="group__api__ref.html">Driver API Reference</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__uart__enums.html">Enumerated Types</a></td></tr>
<tr class="memdesc:group__group__uart__enums"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerated types for UART driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__uart__data__structures.html">Data Structures</a></td></tr>
<tr class="memdesc:group__group__uart__data__structures"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structures for UART driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__uart__functions.html">Functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver API for Synaptics UART peripheral.</p>
<p>The UART (Universal Asynchronous Receiver/Transmitter) protocol is a serial communication protocol that allows full-duplex data exchange.</p>
<p>Features:</p><ul>
<li>Support for 5 to 8 data bits</li>
<li>Configurable parity and stop bits</li>
<li>Flow control support</li>
<li>Interrupt-based and blocking/non-blocking communication APIs</li>
<li>RX FIFOs and TX FIFOs</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>UART APIs are divided into two categories:</dd></dl>
<ul>
<li><b>High-level APIs</b>: These offer buffered I/O, interrupt-driven transfer, and automatic flow control. They are ideal for general application-layer use.</li>
<li><b>Low-level APIs</b>: These directly access hardware registers and offer minimal abstraction. Ideal for bootloaders, custom protocol stacks, or performance-critical operations.</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>Mixing high-level and low-level UART APIs in the same application is not supported. Each operates with different assumptions about interrupt handling, register state, and buffering. Using both on the same UART instance can lead to data loss, missed interrupts, and corrupted driver state. Choose one model per UART instance based on your use case.</dd></dl>
<h1><a class="anchor" id="group_uart_configuration"></a>
Configuration Considerations</h1>
<p>To initialize and use the UART driver:</p><ul>
<li>Populate the <a class="el" href="structuart__config__t.html" title="UART control configuration structure.">uart_config_t</a> structure with desired configuration.</li>
<li>Call <a class="el" href="group__group__uart__general__functions.html#ga876000bf6d28054f92c95ebf1021fcc3">uart_init</a> followed by <a class="el" href="group__group__uart__general__functions.html#ga49d557a8c1fc0b3806aa25050ddd1850">uart_set_configuration</a>.</li>
<li>Use transmit and receive functions for data exchange.</li>
</ul>
<h2><a class="anchor" id="snippet_uart_pinmux_config"></a>
PINMUX Configuration for UART</h2>
<div class="fragment"><div class="line"></div>
<div class="line"><span class="keywordtype">void</span> sys_uart_config_mux(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if CONFIG_MODULE_UART_0_ENABLED</span></div>
<div class="line">    <span class="comment">/* configure UART0 pins */</span></div>
<div class="line">    HW_REG_FIELD_WRITE(GLOBAL_BASE_ADDRESS, GLOBAL_PERIF_UART_PORT_CTRL, UART0_RX_SEL, 0);</div>
<div class="line">    pinmux_set_pin_func(<a class="code hl_enumvalue" href="group___p_i_n_m_u_x___e_n_u_m_s.html#gga1e3f37e2bba6bf228285a8fe7c404040a9d4c2e2fe5efa5ad8e6d3b66e1a78f5d">SPI_SLV_MISO</a>, SPI_SLV_MISO__UART0_TX);</div>
<div class="line">    pinmux_set_pin_func(<a class="code hl_enumvalue" href="group___p_i_n_m_u_x___e_n_u_m_s.html#gga1e3f37e2bba6bf228285a8fe7c404040a8d8a8a2c8cb22ade56c8d07830064c02">SPI_SLV_MOSI</a>, SPI_SLV_MOSI__UART0_RX);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if CONFIG_MODULE_UART_1_ENABLED</span></div>
<div class="line">    <span class="comment">/* configure UART1 pins */</span></div>
<div class="line">    pinmux_set_pin_func(<a class="code hl_enumvalue" href="group___p_i_n_m_u_x___e_n_u_m_s.html#gga1e3f37e2bba6bf228285a8fe7c404040a0555552752feaf5f87eb2bc977f25a79">SPI_MSTR_MOSI</a>, SPI_MSTR_MOSI__UART1_TX);</div>
<div class="line">    pinmux_set_pin_func(<a class="code hl_enumvalue" href="group___p_i_n_m_u_x___e_n_u_m_s.html#gga1e3f37e2bba6bf228285a8fe7c404040a326d50105ed8c6ade450745e835315e3">SPI_MSTR_MISO</a>, SPI_MSTR_MISO__UART1_RX);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if CONFIG_MODULE_UART_LP_ENABLED</span></div>
<div class="line">    <span class="comment">/* configure LP_UART pins, use SPI_SLV_CLK/CS) as LP_UART_TX/RX */</span></div>
<div class="line">    pinmux_set_pin_func(<a class="code hl_enumvalue" href="group___p_i_n_m_u_x___e_n_u_m_s.html#gga1e3f37e2bba6bf228285a8fe7c404040ae2f2cb6e7c037d7e7697e18fccb2098e">SPI_SLV_CLK</a>, SPI_SLV_CLK__UART_LP_TX);</div>
<div class="line">    pinmux_set_pin_func(<a class="code hl_enumvalue" href="group___p_i_n_m_u_x___e_n_u_m_s.html#gga1e3f37e2bba6bf228285a8fe7c404040abba4a0e0507a359a8bcc790b0d2f6a9b">SPI_SLV_CS</a>, SPI_SLV_CS__UART_LP_RX);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
</div><!-- fragment --> <h3><a class="anchor" id="snippets_gen_level"></a>
General Functions.</h3>
<h3><a class="anchor" id="uart_init"></a>
uart_init</h3>
<p>Initializes the UART hardware and internal driver structures for the specified UART instance. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group___u_a_r_t___e_n_u_m_s.html#ga09711ac22550a85bf91ae00820dafe88">uart_instance_en</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="group___u_a_r_t___e_n_u_m_s.html#gga09711ac22550a85bf91ae00820dafe88a9283de1a2e6eea552574a50ca586df8e">UART0</a>;</div>
<div class="line">   </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__group__uart__general__functions.html#ga876000bf6d28054f92c95ebf1021fcc3">uart_init</a>(<span class="keywordtype">id</span>) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba8d985e4627498f56f5ab06caa7405b46">UART_ERROR</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="uart_deinit"></a>
uart_deinit</h3>
<p>Deinitializes the UART hardware and releases any resources held by the driver for the specified UART instance. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group___u_a_r_t___e_n_u_m_s.html#ga09711ac22550a85bf91ae00820dafe88">uart_instance_en</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="group___u_a_r_t___e_n_u_m_s.html#gga09711ac22550a85bf91ae00820dafe88a9283de1a2e6eea552574a50ca586df8e">UART0</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__group__uart__general__functions.html#gac05a8ee93afce4989384444282e11a72">uart_deinit</a>(<span class="keywordtype">id</span>) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba8d985e4627498f56f5ab06caa7405b46">UART_ERROR</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="uart_set_config"></a>
uart_set_config</h3>
<p>Sets the UART hardware configuration for the specified UART instance, including data bits, stop bits, parity, flow control, and baud rate. Programs the UART registers accordingly and returns the actual baud rate achieved. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group___u_a_r_t___e_n_u_m_s.html#ga09711ac22550a85bf91ae00820dafe88">uart_instance_en</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="group___u_a_r_t___e_n_u_m_s.html#gga09711ac22550a85bf91ae00820dafe88a9283de1a2e6eea552574a50ca586df8e">UART0</a>;</div>
<div class="line">    </div>
<div class="line"><a class="code hl_struct" href="structuart__config__t.html">uart_config_t</a> config = {</div>
<div class="line">    .baud_rate    = 230400,</div>
<div class="line">    .flow_control = 0,</div>
<div class="line">    .stop_bits    = <a class="code hl_enumvalue" href="group__group__uart__enums.html#ggaa9e24ecbccdd60c08ed4dcccb05e540ca9b898cc8c883373201dec15b822b795c">UART_STOP_BITS_ONE</a>,</div>
<div class="line">    .parity       = <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga545b920cd979c03a9b826b7717dfbfacaa80d2d8ea61454045ebe71d155e85b3d">UART_PARITY_NONE</a>,</div>
<div class="line">    .char_len     = <a class="code hl_enumvalue" href="group__group__uart__enums.html#ggacab08ec0720c774678758eb8775a0ec0aebc4934f8d41da0a6ee7478849366cc4">UART_CHAR_LEN_EIGHT</a></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* configure to UART mode: 8 bits, no parity, 1 stop bit, no flow control */</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__group__uart__general__functions.html#ga49d557a8c1fc0b3806aa25050ddd1850">uart_set_configuration</a>(<span class="keywordtype">id</span>, &amp;config, &amp;achieved_baudrate) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba8d985e4627498f56f5ab06caa7405b46">UART_ERROR</a>;    </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="snippet_high_level"></a>
High-level Functions.</h2>
<h3><a class="anchor" id="uart_put_non_blocking"></a>
uart_put_non_blocking</h3>
<p>Initiates a non-blocking transmit operation over UART for the specified instance. Data is written to the UART transmit FIFO and the function returns immediately. Completion is handled via callback. </p><div class="fragment"><div class="line"><span class="comment">/* Flag to indicate whether to wait until the TX FIFO is fully drained */</span></div>
<div class="line"><span class="keywordtype">bool</span> wait_for_tx_fifo_drain = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Transmit buffer containing the string to be sent over UART */</span></div>
<div class="line"><span class="keywordtype">char</span> uart_tx_buf[] = <span class="stringliteral">&quot;UART_PUT_NON_BLOCKING_TESTING&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Length of data to transmit, including the null terminator */</span></div>
<div class="line">uint32_t tx_size = <span class="keyword">sizeof</span>(uart_tx_buf);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* UART transmit configuration structure for non-blocking transfer */</span></div>
<div class="line"><a class="code hl_struct" href="structuart__put__config__t.html">uart_put_config_t</a> put_config = {</div>
<div class="line">    .put_buff               = uart_tx_buf,           <span class="comment">/* Pointer to transmit buffer */</span></div>
<div class="line">    .num                    = tx_size,               <span class="comment">/* Number of bytes to transmit */</span></div>
<div class="line">    .callback               = fp_event_cb,           <span class="comment">/* Callback function on completion */</span></div>
<div class="line">    .user_data              = NULL,                  <span class="comment">/* Optional user data for callback */</span></div>
<div class="line">    .wait_for_tx_fifo_drain = wait_for_tx_fifo_drain <span class="comment">/* Whether to wait for TX FIFO to fully drain */</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Send buffer to UART TX FIFO using non-blocking API */</span></div>
<div class="line"><span class="keywordflow">if</span> ((rc = <a class="code hl_function" href="group__group__uart__high__level__functions.html#ga7943b81a64705895cebbd9b6f6d325eb">uart_put_non_blocking</a>(<span class="keywordtype">id</span>, &amp;put_config)) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Return error code if transmission request failed */</span></div>
<div class="line">    <span class="keywordflow">return</span> rc;</div>
<div class="line">}</div>
</div><!-- fragment --> <h3><a class="anchor" id="uart_get_non_blocking"></a>
uart_get_non_blocking</h3>
<p>Initiates a non-blocking receive operation over UART for the specified instance. Attempts to read data from the UART receive FIFO into the provided buffer and returns immediately with the number of bytes received so far. </p><div class="fragment"><div class="line"><span class="comment">/* Variable to store the number of characters already available in RX FIFO */</span></div>
<div class="line">uint32_t received_chars = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Receive buffer size */</span></div>
<div class="line"><span class="preprocessor">#define UART_RX_SIZE 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Receive buffer to hold incoming UART data */</span></div>
<div class="line"><span class="keywordtype">char</span> uart_rx_buf[UART_RX_SIZE];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Number of bytes to receive */</span></div>
<div class="line">uint32_t rx_size = UART_RX_SIZE;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* UART receive configuration structure for non-blocking reception */</span></div>
<div class="line"><a class="code hl_struct" href="structuart__get__config__t.html">uart_get_config_t</a> get_config = {</div>
<div class="line">    .get_buff   = uart_rx_buf,     <span class="comment">/* Pointer to receive buffer */</span></div>
<div class="line">    .num        = rx_size,         <span class="comment">/* Number of bytes to receive */</span></div>
<div class="line">    .callback   = fp_event_cb,     <span class="comment">/* Callback function on data reception */</span></div>
<div class="line">    .user_data  = NULL             <span class="comment">/* Optional user data for callback */</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Initiate UART receive using non-blocking API */</span></div>
<div class="line"><span class="keywordflow">if</span> ((rc = <a class="code hl_function" href="group__group__uart__high__level__functions.html#gac44f142b6f7b988e471a240371b1a0ec">uart_get_non_blocking</a>(<span class="keywordtype">id</span>, &amp;get_config, &amp;received_chars)) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Return error code if receive request failed */</span></div>
<div class="line">    <span class="keywordflow">return</span> rc;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="snippet_low_level"></a>
Low-level Functions.</h2>
<h3><a class="anchor" id="uart_put_blocking"></a>
uart_put_blocking</h3>
<p>Performs a blocking transmit operation over UART for the specified instance. Sends data from the provided buffer and blocks until all bytes are transmitted or the timeout occurs. </p><div class="fragment"><div class="line"><span class="comment">/* Flag to indicate whether to wait until the TX FIFO is fully drained */</span></div>
<div class="line"><span class="keywordtype">bool</span> wait_for_tx_fifo_drain = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Transmit buffer containing the string to be sent over UART */</span></div>
<div class="line"><span class="keywordtype">char</span> uart_tx_buf[] = <span class="stringliteral">&quot;UART_PUT_BLOCKING_TESTING&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Length of data to transmit, including the null terminator */</span></div>
<div class="line">uint32_t tx_size = <span class="keyword">sizeof</span>(uart_tx_buf);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Timeout duration in milliseconds for the blocking transmit operation */</span></div>
<div class="line">uint32_t timeout = 1000;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Transmit the data using a blocking UART API */</span></div>
<div class="line"><span class="keywordflow">if</span> ((rc = <a class="code hl_function" href="group__group__uart__low__level__functions.html#gae764eef5b80918d8f18b0df4af65da85">uart_put_blocking</a>(<span class="keywordtype">id</span>, uart_tx_buf, tx_size, timeout, wait_for_tx_fifo_drain)) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Return the error code if transmission failed */</span></div>
<div class="line">    <span class="keywordflow">return</span> rc;</div>
<div class="line">}</div>
</div><!-- fragment --> <h3><a class="anchor" id="uart_get_blocking"></a>
uart_get_blocking</h3>
<p>Performs a blocking receive operation over UART for the specified instance. Waits for the specified number of bytes to be received or until the timeout expires. </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/* Receive buffer size */</span></div>
<div class="line"><span class="preprocessor">#define UART_RX_SIZE 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Receive buffer to hold incoming UART data */</span></div>
<div class="line"><span class="keywordtype">char</span> uart_rx_buf[UART_RX_SIZE];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Timeout duration in milliseconds for blocking receive */</span></div>
<div class="line">uint32_t timeout = 1000;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Number of bytes to receive */</span></div>
<div class="line">uint32_t rx_size = UART_RX_SIZE;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Receive data using blocking UART API */</span></div>
<div class="line"><span class="keywordflow">if</span> ((rc = <a class="code hl_function" href="group__group__uart__low__level__functions.html#gaf489025a309df798b95aa499ecd0fcb7">uart_get_blocking</a>(<span class="keywordtype">id</span>, uart_rx_buf, rx_size, timeout)) != <a class="code hl_enumvalue" href="group__group__uart__enums.html#gga43324d0dd5c80817b134aff1b104a0cba525187963c0aaa465f2a35b30b894d07">UART_OK</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Return error code if receive failed */</span></div>
<div class="line">    <span class="keywordflow">return</span> rc;</div>
<div class="line">}</div>
<div class="line"> </div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
