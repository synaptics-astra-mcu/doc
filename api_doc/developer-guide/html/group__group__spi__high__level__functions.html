<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Astra SRSDK Peripheral Driver Library: High Level</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="syna_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Astra SRSDK Peripheral Driver Library
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__group__spi__high__level__functions.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">High Level<div class="ingroups"><a class="el" href="group__api__ref.html">Driver API Reference</a> &raquo; <a class="el" href="group__group__spi__driver.html">SPI</a> &raquo; <a class="el" href="group__group__spi__functions.html">Functions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>High Level functions for SPI.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga51eac79920b12c00e9f9dd5d3229c03a" id="r_ga51eac79920b12c00e9f9dd5d3229c03a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga51eac79920b12c00e9f9dd5d3229c03a">spi_transfer_blocking</a> (<a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a> id, <a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a> *xfer)</td></tr>
<tr class="separator:ga51eac79920b12c00e9f9dd5d3229c03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e1faa318f3fb81bc88a9bed499fd92e" id="r_ga7e1faa318f3fb81bc88a9bed499fd92e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7e1faa318f3fb81bc88a9bed499fd92e">spi_transfer_non_blocking</a> (<a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a> id, <a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a> *xfer)</td></tr>
<tr class="separator:ga7e1faa318f3fb81bc88a9bed499fd92e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga007c8220c8ae9f8312b5ca5268db0ab6" id="r_ga007c8220c8ae9f8312b5ca5268db0ab6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga007c8220c8ae9f8312b5ca5268db0ab6">spi_transfer_abort</a> (<a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a> id)</td></tr>
<tr class="separator:ga007c8220c8ae9f8312b5ca5268db0ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3263ba399900d44450bee2d0b27c7de" id="r_gae3263ba399900d44450bee2d0b27c7de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__spi__enums.html#ga29285fa13b417d0ef5bbeedbcee7dc38">spi_transfer_status_en</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae3263ba399900d44450bee2d0b27c7de">spi_transfer_status</a> (<a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a> id)</td></tr>
<tr class="separator:gae3263ba399900d44450bee2d0b27c7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6527512fadc8edff0dec51075e2db4f9" id="r_ga6527512fadc8edff0dec51075e2db4f9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6527512fadc8edff0dec51075e2db4f9">spi_transfer_elements_transferred</a> (<a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a> id)</td></tr>
<tr class="separator:ga6527512fadc8edff0dec51075e2db4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>High Level functions for SPI. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga51eac79920b12c00e9f9dd5d3229c03a" name="ga51eac79920b12c00e9f9dd5d3229c03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51eac79920b12c00e9f9dd5d3229c03a">&#9670;&#160;</a></span>spi_transfer_blocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a> spi_transfer_blocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a> *</td>          <td class="paramname"><span class="paramname"><em>xfer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers specified number of data elements. Does not return until all data elements are transferred or timeout. This function blocks all other code from running until it completes. If tx_buff is NULL then tx_dummy is sent for each data element. If rx_buff is NULL all received data is discarded.</p>
<p>If receive is not important pass a NULL pointer for rx_buff If TX is not required pass a NULL pointer for tx_buff, and set tx_dummy. Setting both tx_buff and rx_buff NULL is an invalid use case.</p>
<p>When this function exits both the RX and TX FIFO shall be empty and all level sensitive statuses and interrupts cleared.</p>
<p>Note both the tx_buff and rx_buff must have equal to or greater data elements than the specified xfer_size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>SPI Instance ID.</td></tr>
    <tr><td class="paramname">xfer</td><td><a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a> Status code indicating success or the reason for failure. </dd></dl>

</div>
</div>
<a id="ga7e1faa318f3fb81bc88a9bed499fd92e" name="ga7e1faa318f3fb81bc88a9bed499fd92e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e1faa318f3fb81bc88a9bed499fd92e">&#9670;&#160;</a></span>spi_transfer_non_blocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a> spi_transfer_non_blocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a> *</td>          <td class="paramname"><span class="paramname"><em>xfer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates a non-blocking SPI transfer in full-duplex or half-duplex mode.</p>
<p>This function sets up the hardware SPI configuration, preloads available data into the TX FIFO (if applicable), and enables relevant interrupts. Once the initial setup is complete, the function returns immediately. All remaining data transmission and reception are managed by the interrupt handler spi_transfer_non_blocking_interrupt.</p>
<p>If transmit data (tx_buff) is provided, data is loaded into the TX FIFO; otherwise, the tx_dummy value is used. If receive data (rx_buff) is provided, the ISR copies received words from the RX FIFO; otherwise, received data is discarded.</p>
<p>The caller must ensure that tx_buff and rx_buff (if used) remain valid and unmodified for the duration of the transfer. The completion callback specified in the <a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a> structure is invoked from the interrupt context when the transfer ends.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>SPI Instance ID.</td></tr>
    <tr><td class="paramname">xfer</td><td>Pointer to a <a class="el" href="group__group__spi__data__structures.html#gaf3e9f017fbb39ebf8f8847e262c7f06b">spi_xfer_config_t</a> structure containing transfer details such as buffers, transfer size, dummy data, and completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a> Status code indicating success or the reason for failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Do not modify or free tx_buff or rx_buff during the transfer.</li>
<li>Both tx_buff and rx_buff must have space for at least xfer_size elements.</li>
<li>This function does not support the SPI_EEPROM_READ transfer mode.</li>
<li>If there is more data to be transmitted after the initial preload, it will be handled by the driver interrupt logic. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga007c8220c8ae9f8312b5ca5268db0ab6" name="ga007c8220c8ae9f8312b5ca5268db0ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga007c8220c8ae9f8312b5ca5268db0ab6">&#9670;&#160;</a></span>spi_transfer_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a> spi_transfer_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop current SPI Transfer, clears TX and RX buffers, disables SPI interrupts. Disables SPI block.</p>
<p>Note this could stop a data transfer in the middle of a data element.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>SPI Instance ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__spi__enums.html#gaa54900f631bf8fcb2f7d68c353eb537a">spi_status_en</a> Status code indicating success or the reason for failure. </dd></dl>

</div>
</div>
<a id="gae3263ba399900d44450bee2d0b27c7de" name="gae3263ba399900d44450bee2d0b27c7de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3263ba399900d44450bee2d0b27c7de">&#9670;&#160;</a></span>spi_transfer_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__spi__enums.html#ga29285fa13b417d0ef5bbeedbcee7dc38">spi_transfer_status_en</a> spi_transfer_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns current transfer status, complete and error status are cleared when reading the status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>SPI Instance ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__group__spi__enums.html#ga29285fa13b417d0ef5bbeedbcee7dc38">spi_transfer_status_en</a> </dd></dl>

</div>
</div>
<a id="ga6527512fadc8edff0dec51075e2db4f9" name="ga6527512fadc8edff0dec51075e2db4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6527512fadc8edff0dec51075e2db4f9">&#9670;&#160;</a></span>spi_transfer_elements_transferred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spi_transfer_elements_transferred </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___e_n_u_m_s.html#gafcd5bb1df69a0108576fa2fc705e95a8">spi_instance_en</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns how many elements have been transferred since last call to transfer_non_blocking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>SPI Instance ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of elements transferred. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
