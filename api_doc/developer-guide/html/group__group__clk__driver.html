<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Astra SRSDK Peripheral Driver Library: Clock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="syna_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Astra SRSDK Peripheral Driver Library
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__group__clk__driver.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a>  </div>
  <div class="headertitle"><div class="title">Clock<div class="ingroups"><a class="el" href="group__api__ref.html">Driver API Reference</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__clk__macros.html">Macros</a></td></tr>
<tr class="memdesc:group__group__clk__macros"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro Definitions for Clk Driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__clk__enums.html">Enumerated Types</a></td></tr>
<tr class="memdesc:group__group__clk__enums"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerated Types for Clk Driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__clk__functions.html">Functions</a></td></tr>
<tr class="memdesc:group__group__clk__functions"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions for Clock Driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the Clock peripheral</p>
<p>The Clock driver manages and configures the various clock sources and their distribution across the system, including:</p><ul>
<li>Enabling/disabling clock gates for power management</li>
<li>Configuring clock sources and frequencies (PLL, oscillator, etc.)</li>
<li>Managing clock trees and dividers</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The following are SoC-specific enums, defined in the header file of the target platform:<ul>
<li><a class="el" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455" title="Enumeration of all supported clock IDs in the system.">clk_ids_en</a>: Clock IDs</li>
<li><a class="el" href="group__group__clk__enums.html#ga7b920c436e9b5d5a435d6b16528adcd0" title="PLL Identifiers.">clk_pll_en</a>: Clock PLLs</li>
<li><a class="el" href="group__group__clk__enums.html#gad0a1de4d8f370bbb6e3b7e69a0de5589" title="PLL configuration modes.">clk_pll_config_en</a>: Clock PLL configs <br  />
 <br  />
 You can find them in: <b>soc/&lt;soc_name&gt;/common/include/&lt;soc_name&gt;_clk.h</b> where <code>&lt;soc_name&gt;</code> represents the target SoC (e.g., <b>sr110</b>). <br  />
 <b>Example:</b> <code>soc/SR110/common/include/sr110_clk.h</code></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="group_clk_configuration"></a>
Configuration Considerations</h1>
<h2><a class="anchor" id="clk_functions"></a>
Function</h2>
<h3><a class="anchor" id="clk_init_tree"></a>
clk_init_tree</h3>
<p>Initializes the clock tree by setting up both PLLs (Phase Locked Loops) with the specified configuration. Ensures that the voltage core settings are adjusted, both PLLs are initialized with the specified config, and the default clock tree is populated and synchronized. Sets up necessary clocks for system components. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#gad0a1de4d8f370bbb6e3b7e69a0de5589">clk_pll_config_en</a> config = <a class="code hl_enumvalue" href="group__group__clk__enums.html#ggad0a1de4d8f370bbb6e3b7e69a0de5589affbf1f9bb9931c7cbf37a809082a8ebf">CLK_PLL_CFG_HIGH</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#gad7a427b3739393b6ef4b233b3a285f6a">clk_init_tree</a>(config);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock tree initialized successfully with Config %d for both PLLs.\n&quot;</span>, config);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67af43f4c11310d1ae7e33b3e397562b75f">CLK_ERROR_PARAMETER</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Invalid PLL Config (%d).\n&quot;</span>, config);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock tree initialization failed. Error: %d\n&quot;</span>, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_enable"></a>
clk_enable</h3>
<p>Enables the specified clock by allowing the clock signal to propagate to the associated peripheral or subsystem. Ensures that the necessary clock gating control is cleared or configured to provide the required clock signal </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#gaa013d26c4454d9d93ee73c971e415927">clk_enable</a>(clk_id);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d enabled. \n&quot;</span>, clk_id);</div>
<div class="line">} </div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to enable clock %d. Error: %d \n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_disable"></a>
clk_disable</h3>
<p>Disables the specified clock by gating off its source. This function is used to reduce power consumption by stopping the clock signal to unused peripherals or subsystems. If any downstream clocks are enabled, this function will not disable the clock. Disable downstream clocks first or use <a class="el" href="group__group__clk__functions.html#gaf8b9051278c4ecb62314e58d0e2826c2">clk_force_disable()</a>. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#ga97ef3b49b61fb4bc035be781b4e03a83">clk_disable</a>(clk_id);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d disabled successfully. \n&quot;</span>, clk_id);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67a6bbdb91da54a15b49db6a0cd978c86f4">CLK_ERROR_BUSY</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d cannot be disabled its a system clock. \n&quot;</span>, clk_id);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span>(ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67af43f4c11310d1ae7e33b3e397562b75f">CLK_ERROR_PARAMETER</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;No such Clock, Invalid Parameter given&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ab5652ae8970994ec0371f04cfe1d1785">CLK_ERROR_CHILDREN_ENABLED</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Child clocks are still enabled so clock %d cannot be disabled&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to disable clock %d. Error: %d \n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_force_disable"></a>
clk_force_disable</h3>
<p>Forcibly disables the specified clock regardless of downstream dependencies. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#gaf8b9051278c4ecb62314e58d0e2826c2">clk_force_disable</a>(clk_id);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67a6bbdb91da54a15b49db6a0cd978c86f4">CLK_ERROR_BUSY</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d cannot be force-disabled. It is a system or reference clock.\n&quot;</span>, clk_id);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67af43f4c11310d1ae7e33b3e397562b75f">CLK_ERROR_PARAMETER</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Force-disable failed. Invalid clock ID: %d\n&quot;</span>, clk_id);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d force-disabled successfully.\n&quot;</span>, clk_id);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to force-disable clock %d. Error: %d\n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_is_enabled"></a>
clk_is_enabled</h3>
<p>Checks whether the specified clock is currently enabled or disabled. The result is returned through the output status pointer. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#ga07379264a822cfbaa4d8ee8b6b83f99a">clk_is_enabled</a>(clk_id, &amp;status);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d is %s \n&quot;</span>, clk_id,</div>
<div class="line">                (status == CLK_RC_CLK_ENABLE ? <span class="stringliteral">&quot;ENABLED&quot;</span> : <span class="stringliteral">&quot;DISABLED&quot;</span>));</div>
<div class="line">} </div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to get clock %d status. Error: %d \n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_get_rate"></a>
clk_get_rate</h3>
<p>Retrieves the current operating frequency of the specified clock. The rate is returned in Hz through the output pointer. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#ga0b11c5291fe340079a0d0e6e9ed7e648">clk_get_rate</a>(clk_id, &amp;out_rate);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d current rate: %u Hz \n&quot;</span>, clk_id, out_rate);</div>
<div class="line">} </div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to get clock %d rate. Error: %d \n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_set_rate"></a>
clk_set_rate</h3>
<p>Sets the operating frequency of the specified clock. The closest supported frequency not exceeding the requested rate will be set based on divider configuration computed internally. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line">uint32_t requested_rate = 100000000; <span class="comment">/* 100 MHz */</span></div>
<div class="line">uint32_t achieved_rate = 0;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#ga6230b2c0539575971171f3469d861c01">clk_set_rate</a>(clk_id, requested_rate, &amp;achieved_rate);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d current rate: %u Hz\n&quot;</span>, clk_id, achieved_rate);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to set clock %d rate. Error: %d\n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_get_divider"></a>
clk_get_divider</h3>
<p>Retrieves the current divider value applied to the specified clock. The divider is returned through the output pointer. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group___c_l_k___e_n_u_m_s.html#gadf58d5869a776847e03e148a76403455">clk_ids_en</a> clk_id = <a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455a8ff52f4f3dba911b95dbde0e5f08720a">UART0_CORE_CLK</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#ga7796b06aec8cb5580c03f7e501c88880">clk_get_divider</a>(clk_id, &amp;out_divider);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Clock %d divider: %d \n&quot;</span>, clk_id, out_divider);</div>
<div class="line">} </div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to get divider for clock %d. Error: %d \n&quot;</span>, clk_id, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_set_pll_config"></a>
clk_set_pll_config</h3>
<p>Applies the specified configuration to the given PLL. Used to set frequency, mode, and other PLL-specific configurations. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga7b920c436e9b5d5a435d6b16528adcd0">clk_pll_en</a> pll = <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga7b920c436e9b5d5a435d6b16528adcd0a9959b204e4064f22aa09ba04c7b88caa">CLK_PLL0</a>;</div>
<div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#gad0a1de4d8f370bbb6e3b7e69a0de5589">clk_pll_config_en</a> config = <a class="code hl_enumvalue" href="group__group__clk__enums.html#ggad0a1de4d8f370bbb6e3b7e69a0de5589affbf1f9bb9931c7cbf37a809082a8ebf">CLK_PLL_CFG_HIGH</a>; </div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#ga13841f965e8330687db39074cc3a8339">clk_set_pll_config</a>(pll, <a class="code hl_enumvalue" href="group__group__clk__enums.html#ggad0a1de4d8f370bbb6e3b7e69a0de5589affbf1f9bb9931c7cbf37a809082a8ebf">CLK_PLL_CFG_HIGH</a>);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;PLL %d config set to HIGH \n&quot;</span>, pll);</div>
<div class="line">} </div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to set PLL %d config. Error: %d \n&quot;</span>, pll, ret);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="clk_get_pll_config"></a>
clk_get_pll_config</h3>
<p>Retrieves the current configuration of the specified PLL. The configuration is returned via the output pointer. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga7b920c436e9b5d5a435d6b16528adcd0">clk_pll_en</a> pll = <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga7b920c436e9b5d5a435d6b16528adcd0a9959b204e4064f22aa09ba04c7b88caa">CLK_PLL0</a>;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#gac1da0bcde8ddff96a25557b3fb335b3b">clk_get_pll_config</a>(pll, &amp;pll_config_out);</div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>) </div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;PLL %d current config: %d \n&quot;</span>, pll, pll_config_out);</div>
<div class="line">} </div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Failed to get PLL %d config. Error: %d \n&quot;</span>, pll, ret);</div>
<div class="line">}</div>
</div><!-- fragment --> <h3><a class="anchor" id="clk_set_mux"></a>
clk_set_mux</h3>
<p>Sets the mux output configuration for the specified clock. Configures the clock source selection (mux) for a given clock ID. It applies to clocks that support mux switching, such as PLL muxes or CGL clock muxes. </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__group__clk__enums.html#ga801e7f89c38f4508f4abce04b3a8ae67">clk_status_en</a> ret;</div>
<div class="line"> </div>
<div class="line">ret = <a class="code hl_function" href="group__group__clk__functions.html#gacd866b8a8bbd51ea95c2c9adc967081e">clk_set_mux</a>(<a class="code hl_enumvalue" href="group___c_l_k___e_n_u_m_s.html#ggadf58d5869a776847e03e148a76403455abfcfef4d0a91eca37a833c48cc847dc2">IPI_CLK</a>, <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga7b920c436e9b5d5a435d6b16528adcd0a8f58555d7e8ece216e6a2877e49ef5c9">CLK_PLL1</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67ae5151e89d15f5b36bee4e19b15141f58">CLK_OK</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_INFO(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Successfully set IPI_CLK mux to CLK_PLL1.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67af43f4c11310d1ae7e33b3e397562b75f">CLK_ERROR_PARAMETER</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;Invalid parameter passed to clk_set_mux for IPI_CLK.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__group__clk__enums.html#gga801e7f89c38f4508f4abce04b3a8ae67a84b20772d5521effad284ddb8f6bbeeb">CLK_ERROR_INVALID_MUX</a>)</div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;IPI_CLK does not support mux configuration.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    LOG_ERROR(LOG_MOD_CLOCK, <span class="stringliteral">&quot;clk_set_mux failed with error code: %d\n&quot;</span>, ret);</div>
<div class="line">}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
